@model BookwormsOnline.ViewModels.ManageViewModel

<h1>Manage Your Account</h1>

@if (TempData["Message"] != null)
{
    <div class="alert alert-info">@TempData["Message"]</div>
}

<div>
    <h4>Two-Factor Authentication (2FA)</h4>
    @if (Model.IsTwoFactorEnabled)
    {
        <p>Your account has two-factor authentication enabled.</p>
        <p>You have @Model.RecoveryCodesLeft recovery codes left.</p>
        <form asp-controller="Manage" asp-action="GenerateRecoveryCodes" method="post">
            <button type="submit" class="btn btn-primary">Generate New Recovery Codes</button>
        </form>
        <form asp-controller="Manage" asp-action="Disable2fa" method="post" class="mt-2">
            @Html.AntiForgeryToken()
            <button type="submit" class="btn btn-danger">Disable 2FA</button>
        </form>
    }
    else
    {
        <p>Your account does not have two-factor authentication enabled.</p>
        <form asp-controller="Manage" asp-action="EnableAuthenticator" method="get">
            <button type="submit" class="btn btn-primary">Enable Email 2FA</button>
        </form>
    }
</div>
